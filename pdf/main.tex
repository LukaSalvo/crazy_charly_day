\documentclass[12pt,a4paper]{article}
\usepackage[utf8]{inputenc}
\usepackage[french]{babel}
\usepackage[T1]{fontenc}
\usepackage{geometry}
\geometry{margin=2.5cm}
\usepackage{graphicx} % Essentiel pour les images
\usepackage{hyperref}
\usepackage{enumitem}

\begin{document}

% --- PAGE DE GARDE AVEC LOGOS ---
\begin{titlepage}
    \centering
    % Insertion des deux logos en haut
    \begin{minipage}{0.45\textwidth}
        \begin{flushleft}
            \includegraphics[width=4cm]{img/logo_iut.png} % 
        \end{flushleft}
    \end{minipage}
    \hfill
    \begin{minipage}{0.45\textwidth}
        \begin{flushright}
            \includegraphics[width=4cm]{img/logo_toys_academi.png} % Remplacez par votre fichier
        \end{flushright}
    \end{minipage}
    
    \vspace{4cm}
    
    {\scshape\LARGE IUT - Crazy Crew \par}
    \vspace{1.5cm}
    {\scshape\LARGE Equipe mixte \par}
    \vspace{1.5cm}
    {\huge\bfseries Cahier des Charges : Projet ToyBoxing\par}
    \vspace{0.5cm}
    {\Large\itshape Crazy Charly Day 2026\par}
    
    \vspace{2cm}
    \textbf{Commanditaire :}\\
    Association Toys Academy \par
    \vspace{2cm}

    \vfill
    {\large Réalisé par :\\ \textbf{2 Crazy Crew}}
    
    \vfill
    {\large \today \par}
\end{titlepage}

\newpage
\tableofcontents
\newpage

\section{Présentation du projet}
Ce projet est réalisé pour l'association \textbf{Toys Academy} dans le cadre des \textbf{Crazy Charly Day 2026}. L'objectif est de concevoir une application Web permettant la gestion et l'optimisation de "Toy Boxes" : des boîtes de jouets reconditionnés envoyées aux abonnés selon leurs préférences et l'âge de l'enfant.

\section{Objectifs techniques}
Le développement s'articule autour de certains axes principaux:
\begin{itemize}
    \item Une application Web de gestion des articles et des abonnements.
    \item Une optimisation de la composition des box.
    \item Un déploiement de la solution globale sur un serveur public.
    \item Une collaboration inter-départements pour enrichir les fonctionnalités et l'expérience utilisateur.
    \item Une interface responsive pour les abonnés, accessible sur mobile.
\end{itemize}

\section{Spécifications Fonctionnelles}

\subsection{Base de données}
La base de données doit inclure les tables suivantes :
\begin{itemize}
    \item \textbf{Article} : id : UUID , désignation : string , id\_categ : entier , id\_age : entier , id\_etat : entier , prix : numeric(10,2) , poids : numeric(10,3).
    \item \textbf{Utilisateur} : id : UUID , nom : string , mail : string , mdp : string , admin : booléen.
    \item \textbf{Client} : id : UUID (FK utilisateur) , age : entier , categ\_1 à categ\_6 : entier (FK catégorie).
    \item \textbf{Catégorie} : id : entier , libellé : string.
    \item \textbf{Age} : id : entier , libellé : string.
    \item \textbf{Etat} : id : entier , libellé : string.
    \item \textbf{Box} : id : UUID , id\_client : UUID , prix : numeric(10,2) , poids : numeric(10,3) , score : entier.
    \item \textbf{Campagne} : id : UUID , poids\_max : numeric(10,3) , prix\_min : numeric(10,2) , prix\_max : numeric(10,2).
    \item \textbf{Boxobj} : id\_box : UUID , id\_article : UUID.
    \item \textbf{Boxcampagne} : id\_box : UUID , id\_campagne : UUID.
\end{itemize}
Voici un schéma de la base de données :
\begin{center}
    \includegraphics[width=0.8\textwidth]{img/Capture d’écran 2026-02-19 à 14.32.31.png}
\end{center}


\subsection{Conteneurisation}
L'application doit être conteneurisée à l'aide de Docker, avec les services suivants :
\begin{itemize}
    \item \textbf{Backend} : Un conteneur basé sur PHP 8.2+ hébergeant l'API REST.
    \item \textbf{Frontend} : Un conteneur Node.js pour le développement (Vite) et un serveur Nginx pour la production.
    \item \textbf{Base de données} : Un conteneur PostgreSQL 15+ pour la persistance des données.
    \item \textbf{Orchestration} : Utilisation de \texttt{docker-compose} pour lier les services, gérer les volumes de données et les réseaux internes.
\end{itemize}

\section{Architecture Logicielle}
L'arborescence du projet témoigne d'une volonté de séparation des responsabilités :

\subsection{Backend (PHP)}
Le backend suit une \textbf{architecture hexagonale} (ou Clean Architecture) pour garantir la maintenabilité :
\begin{itemize}
    \item \textbf{Application Core} : Contient la logique métier (\texttt{Service.php}) et les cas d'utilisation (\texttt{usecases}).
    \item \textbf{Infrastructure} : Gère les détails techniques comme l'accès à la base de données via des dépôts (\texttt{repositories}).
    \item \textbf{API (Interface)} : Point d'entrée de l'application géré par des Actions (\texttt{LoginAction}, \texttt{RegisterAction}) et sécurisé par des middlewares (JWT, CORS, Authz).
\end{itemize}

\subsection{Frontend (Vue.js)}
Le frontend est développé avec le framework \textbf{Vue.js 3} et l'outil de build \textbf{Vite}.
\begin{itemize}
    \item Architecture basée sur des composants réutilisables (\texttt{components}).
    \item Communication avec le backend via des appels asynchrones à l'API REST.
\end{itemize}

\section{Pipeline de Déploiement (CI/CD)}
Afin de garantir la qualité et la stabilité du code à chaque modification :
\begin{itemize}
    \item \textbf{Intégration Continue} : Utilisation de GitHub Actions pour automatiser les tests.
    \item \textbf{Validation Docker} : À chaque \textit{push} sur la branche principale, une pipeline vérifie que les conteneurs se construisent (\texttt{build}) et démarrent (\texttt{up}) correctement.
    \item \textbf{Sécurité} : Gestion des variables d'environnement sensibles via les \textit{Secrets} GitHub pour éviter toute fuite de données de connexion.
\end{itemize}

\section{Plan de Tests}
\begin{itemize}
    \item \textbf{Tests Unitaires} : Vérification de la logique métier dans le \texttt{Application Core}.
    \item \textbf{Tests d'Intégration} : Validation de la connexion entre l'API et la base de données PostgreSQL.
    \item \textbf{Tests de Disponibilité} : Vérification de la réponse HTTP 200 sur les points d'entrée critiques (Home, Liste des articles).
\end{itemize}

\end{document}